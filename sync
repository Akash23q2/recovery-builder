#!/bin/bash
sudo apt install wget
MANIFEST=https://github.com/Kang-OS-R/android_manifest.git ##edit this
BRANCH=eleven  ##edit this

mkdir -p /tmp/rom
cd /tmp/rom

# Repo init command, that -device,-mips,-darwin,-notdefault part will save you more time and storage to sync, add more according to your rom and choice.Optimization is welcomed! Let's make it quit, and with depth=1 so that no unnecessary things.
repo init --no-repo-verify --depth=1 -u "$MANIFEST" -b "$BRANCH" -g default,-device,-mips,-darwin,-notdefault
git config --global user.name "mr-khan007"
git config --global user.email 786akhan.ask@gmail.com

# Sync source with -q, no need unnecessary messages, you can remove -q if want! try with -j30 first, if fails, it will try again with -j8
repo sync -c --no-clone-bundle --no-tags --optimized-fetch --prune --force-sync -j$(nproc --all) || repo sync -c --no-clone-bundle --no-tags --optimized-fetch --prune --force-sync -j8

Sarthak //aosp_RMX2020.mk but MT6768:
# SELinux Patch ##Must
cd external/selinux && curl -L http://ix.io/2FhM > sasta.patch && git am sasta.patch && cd ../..

#ims patches

cd frameworks/opt/net/wifi 
wget https://raw.githubusercontent.com/SamarV-121/android_vendor_extra/lineage-18.1/patches/frameworks/opt/net/wifi/0001-wifi-Add-StaState-API.patch 
patch -p1 < *.patch 
cd -

cd frameworks/opt/net/ims 
wget https://raw.githubusercontent.com/SamarV-121/android_vendor_extra/lineage-18.1/patches/frameworks/opt/net/ims/0001-Partially-Revert-Remove-references-to-deprecated-dev.patch 
patch -p1 < *.patch 
cd -


#audio
cd frameworks/av 
wget https://github.com/phhusson/platform_frameworks_av/commit/624cfc90b8bedb024f289772960f3cd7072fa940.patch 
patch -p1 < *.patch 
cd -


##delete these lines, and replace with your own lines of device sauce
git clone https://github.com/Realme-G70-Series/vendor_realme_rmx2020.git vendor/realme/rmx2020 
git clone https://github.com/noobyysauraj/device_realme_RMX2020.git device/realme/rmx2020

cd /tmp/rom
